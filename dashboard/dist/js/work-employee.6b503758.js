(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["work-employee"],{"00b5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return r}));var n=a("b775");function i(t){return Object(n["b"])({url:"/workEmployee/index",method:"get",params:t})}function s(t){return Object(n["b"])({url:"/workEmployee/synEmployee",method:"put",data:t})}function r(t){return Object(n["b"])({url:"/workEmployee/searchCondition",method:"get",data:t})}},1195:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAzCAYAAADsBOpPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAQrSURBVGhD7ZjbK21RFMbPP+l+SeRW7hS5veCFeEJur0S5xZN4EEUkIUpKvCCXouQaxum3m3M119pr7zPX2nsrHV+NdmuNMb7vs8295pjrj/ww/BpONf5vw09PT7KzsyPLy8syNTUV+eSa+8lCwobv7+9la2tLuru7JScnR9LS0qKC++Spoz4RJGR4fX1dmpubJTc319eoN6ijnr6wCGWYf/HCwoKvKSIrK0vy8/Mjn355gv4wSyWU4ZGRkSgzeXl50tnZKXNzc5FvkLXLJ9fcJ2/W0w9PUAQ2PD8/7xLWsbGxIZ+fn6rKDe6T9+uDLwgCGT45OYkSZE2enp6qivigjnovB7y2sDb8/v4ug4ODLqGKigq5urpSFXagnj6TB174bWBt+ObmRqqrqx0RflRHR0cqGwz00a+54IXfBtaG9/b2JDs72xGZmJhQmXCgX3PBC78NrA0PDQ05ApmZmXJ2dqYy4UA/PJoTfhtYG25vb3fIy8vLA69dL+iHR3PCbwNrw0VFRQ55XV2d3N3dqUw40A+P5oTfBtaGCwoKHPLa2lq5vb1VmXCgHx7NCb8NrA03NjY65CUlJXJxcaEy4UA/PJoTfhtYG+7t7XXIicPDQ5UJB/pNPvhtYG14ZWVF0tPTHYGxsTGVCQf6NRe88NvA2vD19bVUVVU5IoyKYb9l+syRFF74bWBt+O3tTfr7+x0RIllbM7zw28DaMDg/P5fi4mKXWKLDD3zw2iKQYbC5uekS1BF2vIQvCAIbBjMzM1EDOddtbW0yOjoayXMA5ZNr7vvVkw+KUIZZb0tLSy4DQYN+23VrIpRhRsHFxUUpLCz0NWMTAwMDoeaRQIYxOj09LTU1NZKRkeFrJEiUlZXJ5OSk9SwMrA0/PDxIS0uLrzDBw58nQF9fX2RT4EUKn1xz39x0vAEv/DawMsxw3dTUFCXEqaGnp0dWV1f/OQyRp45687ShA36bIf6fhnd3d33XakdHR0Tg+flZVdqBevro93Kig148xDXMzOrdldhSx8fH5eXlRVWFA/3weN8aoRdv1o5pmL29oaHBRVZfXy/b29sxN4iggAc+eE0ddGPNFjEN81A3SRiwDw4OVDa5gNc8IBCxNhVfw/xLvH81j7Ovry9VkVzAC7+ph77f0vA1zKZgnmi7urrk9fVVZVMD+NHRmujjw4sow7yBqaysdBo5HB4fH6tsaoGOedjFh/eNUJRh1pNuIILMqonCb+b2/m6iDA8PD7samLq+E+iZ+vgx4TL8+PjoOnoTib7hCQr0TH384EvDZZjJv7S01ClmC/34+FDZ7wF65taNH/NE4jK8v7/veh62traqzPcCXe0BP/jScBleW1tzPc686+e7YP6O8IMvDZfhy8tLmZ2djYyGhO3Il2ygqz0Q5iHXZfgn4NdwqvFrONX4YYZF/gKB6bB2CTcbPgAAAABJRU5ErkJggg=="},a37b:function(t,e,a){"use strict";a("cefa")},cefa:function(t,e,a){},f961:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"work-employee"},[n("a-card",[n("div",{staticClass:"btn-box"},[n("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workEmployee/index@search",expression:"'/workEmployee/index@search'"}],attrs:{type:"primary"},on:{click:function(){t.visible=!0}}},[e._v("条件筛选")]),n("div",[n("p",[e._v("最后一次同步时间："+e._s(e.syncTime))]),n("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workEmployee/index@sync",expression:"'/workEmployee/index@sync'"}],on:{click:function(){t.syncEmployeeDefine()}}},[e._v("同步企业微信通讯录")])],1)],1),n("div",{staticClass:"table-wrapper"},[n("a-table",{attrs:{columns:e.columns,"data-source":e.tableData,rowKey:function(t){return t.id},pagination:e.pagination},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,a){return n("div",{staticClass:"msg-box"},[a.thumbAvatar?n("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:a.thumbAvatar,onerror:e.errorImg}}):e._e(),a.thumbAvatar?e._e():n("a-icon",{staticStyle:{"font-size":"35px"},attrs:{type:"user"}}),n("span",{staticStyle:{marginRight:"10px"}},[e._v(e._s(a.name))]),"男"===a.gender?n("a-icon",{attrs:{type:"man"}}):e._e(),"女"===a.gender?n("a-icon",{attrs:{type:"woman"}}):e._e()],1)}}])})],1),n("a-drawer",{attrs:{title:"条件筛选",placement:"right",width:"400",closable:!1,visible:e.visible,"after-visible-change":e.afterVisibleChange},on:{close:e.onClose}},[n("a-form",[n("a-form-item",{attrs:{label:"选择成员"}},[n("a-input",{model:{value:e.searchData.name,callback:function(t){e.$set(e.searchData,"name",t)},expression:"searchData.name"}})],1),n("a-form-item",{attrs:{label:"成功状态"}},[n("a-select",{model:{value:e.searchData.status,callback:function(t){e.$set(e.searchData,"status",t)},expression:"searchData.status"}},e._l(e.statusList,(function(t){return n("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),1)],1),n("a-form-item",{attrs:{label:"外部联系人权限"}},[n("a-select",{model:{value:e.searchData.contactAuth,callback:function(t){e.$set(e.searchData,"contactAuth",t)},expression:"searchData.contactAuth"}},e._l(e.contactAuth,(function(t){return n("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),n("div",{staticClass:"footer"},[n("a-button",{staticStyle:{marginRight:"5px"},on:{click:function(){t.visible=!1,t.searchData={}}}},[e._v("取消")]),n("a-button",{attrs:{type:"primary"},on:{click:function(){t.pagination.current=1,t.getTableData()}}},[e._v("确定")])],1)],1)],1)],1)},i=[],s=(a("b0c0"),a("00b5")),r={data:function(){return{visible:!1,columns:[{title:"企业成员",align:"center",dataIndex:"name",width:"200px",scopedSlots:{customRender:"name"}},{title:"状态",align:"center",dataIndex:"statusName"},{title:"外部联系人权限",align:"center",dataIndex:"contactAuthName"},{title:"发起申请数",align:"center",dataIndex:"applyNums"},{title:"新增客户数",align:"center",dataIndex:"addNums"},{title:"聊天数",align:"center",dataIndex:"messageNums"},{title:"发送消息数",align:"center",dataIndex:"sendMessageNums"},{title:"已回复聊天占比",align:"center",dataIndex:"replyMessageRatio"},{title:"平均首次回复时长",align:"center",dataIndex:"averageReply"},{title:"删除/拉黑客户数",align:"center",dataIndex:"invalidContact"}],tableData:[],pagination:{total:0,current:1,pageSize:10,showSizeChanger:!0},syncTime:"",searchData:{},statusList:[],contactAuth:[],errorImg:'this.src="'+a("1195")+'"'}},created:function(){this.getTableData(),this.getSyncTime()},methods:{getTableData:function(){var t=this,e={status:this.searchData.status,name:this.searchData.name,contactAuth:this.searchData.contactAuth,page:this.pagination.current,perPage:this.pagination.pageSize};Object(s["a"])(e).then((function(e){t.tableData=e.data.list,t.pagination.total=e.data.page.total}))},getSyncTime:function(){var t=this;Object(s["c"])().then((function(e){t.syncTime=e.data.syncTime,t.statusList=e.data.status,t.contactAuth=e.data.contactAuth}))},syncEmployeeDefine:function(){var t=this;Object(s["b"])().then((function(e){t.getTableData(),t.$message.info("后台同步中,请稍等")}))},onClose:function(){this.visible=!1},afterVisibleChange:function(){},handleTableChange:function(t){var e=t.current,a=t.pageSize;this.pagination.current=e,this.pagination.pageSize=a,this.getTableData()}}},c=r,o=(a("a37b"),a("2877")),l=Object(o["a"])(c,n,i,!1,null,"3c4b7697",null);e["default"]=l.exports}}]);