(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["work-room"],{"0437":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"group-statistics"},[r("a-row",[r("a-col",{staticStyle:{"padding-right":"5px"},attrs:{span:16}},[r("a-card",[r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("div",{staticStyle:{display:"flex"}},[r("img",{attrs:{src:a("8522"),alt:""}}),r("div",{staticStyle:{"margin-left":"10px"}},[r("div",{staticStyle:{"font-size":"22px",color:"#000"}},[t._v(t._s(t.groupDataInfo.name))]),r("div",{staticStyle:{display:"flex"}},[r("div",[t._v("群主： "),r("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:t.groupDataInfo.ownerAvatar,alt:""}}),t._v(" "+t._s(t.groupDataInfo.ownerName)+" ")]),r("a-divider",{attrs:{type:"vertical"}}),r("div",[t._v("共"+t._s(t.groupDataInfo.total)+"位群成员")])],1)])])]),r("div",{staticStyle:{"margin-top":"15px"}},[r("span",{staticStyle:{color:"#a9a9a9"}},[t._v("群聊标签：")])]),r("div",{staticClass:"group_number"},[r("div",{staticStyle:{"text-align":"center"}},[r("div",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.groupDataInfo.total))]),r("div",[t._v("总人数")])]),r("div",{staticStyle:{"text-align":"center"}},[r("div",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.groupDataInfo.totalContact))]),r("div",[t._v("总客户数")])]),r("div",{staticStyle:{"text-align":"center"}},[r("div",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.groupDataInfo.todayInsert))]),r("div",[t._v("今日新增")])]),r("div",{staticStyle:{"text-align":"center"}},[r("div",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.groupDataInfo.todayLoss))]),r("div",[t._v("今日流失")])])])])],1),r("a-col",{staticStyle:{"padding-left":"5px"},attrs:{span:8}},[r("a-card",{staticStyle:{height:"251px"},attrs:{title:"群公告"}},[r("Empty",[r("span",{staticStyle:{color:"#595959"},attrs:{slot:"description"},slot:"description"},[t._v("暂无群公告~")])])],1)],1)],1),r("a-card",{staticStyle:{"margin-top":"15px"}},[r("div",{staticClass:"type-wrapper"},[r("a-button",{staticClass:"type",attrs:{type:1==t.type?"primary":""},on:{click:function(e){return t.changeType(1)}}},[t._v("按日")]),r("a-range-picker",{staticClass:"type",on:{change:t.dateChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),r("a-button",{staticClass:"type",attrs:{type:2==t.type?"primary":""},on:{click:function(e){return t.changeType(2)}}},[t._v("按周")]),r("a-button",{attrs:{type:3==t.type?"primary":""},on:{click:function(e){return t.changeType(3)}}},[t._v("按月")])],1),r("div",[t._v(" 这段时间里，该群共新增成员数 "+t._s(t.addNumRange)+" 人，成员退群 "+t._s(t.outNumRange)+" 人 ")]),t.statisticsShow?r("div",{staticClass:"chart-wrapper"},[r("v-chart",{attrs:{options:t.options}})],1):t._e(),r("div",{staticClass:"table-title"},[t._v("详细数据")]),r("a-tabs",{attrs:{"default-active-key":"1"}},[r("a-tab-pane",{key:"1",attrs:{tab:"按日期查看"}},[r("a-table",{attrs:{bordered:"",pagination:t.pagination,columns:t.columns,"data-source":t.tableData},on:{change:t.handleTableChange}})],1),r("a-tab-pane",{key:"2",attrs:{tab:"按成员查看"}},[r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("div",[t._v("当前群成员："+t._s(t.memberNum)+"人；累计退群成员："+t._s(t.outRoomNum)+"人")]),r("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"输入要搜索的成员名称",allowClear:!0},on:{search:t.onSearch,change:t.cleanInput},model:{value:t.staffInput,callback:function(e){t.staffInput=e},expression:"staffInput"}})],1),r("a-table",{staticStyle:{"margin-top":"20px"},attrs:{columns:t.tableStaff.columns,"data-source":t.tableStaff.data},scopedSlots:t._u([{key:"name",fn:function(e,a){return r("div",{},[[r("div",{staticClass:"name-wrapper"},[r("div",{staticClass:"img-wrapper"},[a.avatar?r("img",{staticClass:"img",attrs:{src:a.avatar,alt:""}}):r("a-icon",{staticClass:"icon",attrs:{type:"user"}})],1),r("div",{staticClass:"detail"},[r("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),a.isOwner?r("a-button",{staticClass:"owner",attrs:{type:"primary"}},[t._v("群主")]):t._e()],1)])]],2)}},{key:"otherRooms",fn:function(e,a){return r("div",{},t._l(a.otherRooms,(function(e,a){return r("div",{key:a,staticClass:"otherRooms"},[t._v(" "+t._s(e)+" ")])})),0)}},{key:"outRoomState",fn:function(e,a){return r("div",{},[""==a.outRoomTime?r("a-tag",{attrs:{color:"green"}},[t._v("未退群")]):r("a-tag",{attrs:{color:"gray"}},[t._v("已退群")])],1)}}])})],1)],1)],1)],1)},o=[],n=a("1da1"),i=(a("06f4"),a("fc25")),s=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("b0c0"),a("c1df")),c=a.n(s),u=a("59e4"),l=[{title:"时间",dataIndex:"time"},{title:"新增成员数",dataIndex:"addNum"},{title:"退群人数",dataIndex:"outNum"},{title:"当前群成员数",dataIndex:"total"},{title:"累计退群成员数",dataIndex:"outTotal"}],m={components:{Empty:i["a"]},data:function(){return{columns:l,workRoomId:"",type:2,time:null,startTime:"",endTime:"",addNum:0,outNum:0,total:0,outTotal:0,addNumRange:0,outNumRange:0,statisticsShow:!0,options:{tooltip:{trigger:"axis"},legend:{data:["新增成员","离开成员"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{name:"新增成员",type:"line",data:[],itemStyle:{normal:{color:"#1890ff",lineStyle:{color:"#1890ff"}}}},{name:"离开成员",type:"line",data:[],itemStyle:{normal:{color:"yellow",lineStyle:{color:"yellow"}}}}]},tableData:[],pagination:{total:0,current:1,pageSize:10,showSizeChanger:!0},memberNum:0,outRoomNum:0,tableStaff:{columns:[{title:"群名称",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"入群时间",dataIndex:"joinTime"},{title:"所在其他群",dataIndex:"otherRooms",scopedSlots:{customRender:"otherRooms"}},{title:"退群时间",dataIndex:"outRoomTime"},{title:"入群方式",dataIndex:"joinSceneText"},{title:"是否退群",dataIndex:"outRoomState",scopedSlots:{customRender:"outRoomState"}}],data:[]},staffInput:"",groupDataInfo:{}}},created:function(){this.workRoomId=this.$route.query.workRoomId,this.getStatisticsData(),this.getListData(),this.getStaffTableData(),this.getGroupData()},methods:{getGroupData:function(){var t=this;Object(u["r"])({workRoomId:this.workRoomId}).then((function(e){t.groupDataInfo=e.data}))},seeDetails:function(t){},cleanInput:function(){""==this.staffInput&&this.getStaffTableData()},onSearch:function(){this.getStaffTableData()},getStaffTableData:function(){var t=this;Object(u["y"])({workRoomId:this.workRoomId,name:this.staffInput}).then((function(e){t.memberNum=e.data.memberNum,t.outRoomNum=e.data.outRoomNum,t.tableStaff.data=e.data.list}))},getStatisticsData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i,s,c,l,m,d,p,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={workRoomId:t.workRoomId,type:t.type,startTime:t.startTime,endTime:t.endTime},e.prev=1,e.next=4,Object(u["s"])(a);case 4:if(r=e.sent,o=r.data,n=o.addNum,i=o.outNum,s=o.total,c=o.outTotal,l=o.addNumRange,m=o.outNumRange,d=o.list,t.addNum=n||0,t.outNum=i||0,t.total=s||0,t.outTotal=c||0,t.addNumRange=l||0,t.outNumRange=m||0,p=[],h=[],f=[],d&&0!=d.length){e.next=25;break}return t.statisticsShow=!1,e.abrupt("return");case 25:return t.statisticsShow=!0,d.forEach((function(t){p.push(t.time),h.push(t.addNum),f.push(t.outNum)})),t.options.xAxis.data=p,t.options.series=t.options.series.map((function(t){return"新增成员"==t.name?t.data=h:t.data=f,t})),e.abrupt("return",!0);case 32:e.prev=32,e.t0=e["catch"](1);case 34:case"end":return e.stop()}}),e,null,[[1,32]])})))()},getListData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={workRoomId:t.workRoomId,type:t.type,startTime:t.startTime,endTime:t.endTime,page:t.pagination.current,perPage:t.pagination.pageSize},e.prev=1,e.next=4,Object(u["t"])(a);case 4:r=e.sent,o=r.data,n=o.page.total,i=o.list,t.tableData=i||[],t.pagination.total=n||0,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})))()},dateChange:function(t,e){this.startTime=e[0],this.endTime=e[1],e[0]&&e[1]?this.time=[c()(this.startTime,"YYYY-MM-DD"),c()(this.endTime,"YYYY-MM-DD")]:this.time=null},changeType:function(t){var e=this;this.type=t,this.getStatisticsData().then((function(t){t&&e.getListData()}))},handleTableChange:function(t){var e=t.current,a=t.pageSize;this.pagination.current=e,this.pagination.pageSize=a,this.getListData()}}},d=m,p=(a("0f6c"),a("2877")),h=Object(p["a"])(d,r,o,!1,null,"53287cf0",null);e["default"]=h.exports},"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f");var r=a("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(t,e):void 0}}},"0f6c":function(t,e,a){"use strict";a("6e1f")},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var r=a("6b75");function o(t){if(Array.isArray(t))return Object(r["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var i=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return o(t)||n(t)||Object(i["a"])(t)||s()}},4130:function(t,e,a){"use strict";a("558e")},4873:function(t,e,a){},"4f1c":function(t,e,a){"use strict";a("4873")},5408:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-base"},[a("a-row",[a("a-col",{staticClass:"right-wrapper",attrs:{span:24}},[a("div",{staticClass:"lists",attrs:{split:!1}},[a("a-alert",{staticStyle:{height:"60px"},attrs:{"show-icon":!1,message:"客户群，是由具有客户群使用权限的成员创建的外部群。成员在手机端创建群后，自动显示在后台列表中，群聊上限人数200人，包含成员+外部联系人。",banner:""}})],1),a("a-card",{staticClass:"up-card"},[a("a-form",{staticClass:"form",attrs:{"label-col":{span:7},"wrapper-col":{span:14}}},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"选择分组"}},[a("a-select",{on:{change:t.groupChange},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.group,(function(e,r){return a("a-select-option",{key:r,attrs:{value:e.workRoomGroupId}},[t._v(" "+t._s(e.workRoomGroupName)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"群名称："}},[a("a-input",{attrs:{placeholder:"搜索群名称"},model:{value:t.workRoomName,callback:function(e){t.workRoomName=e},expression:"workRoomName"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"选择群主："}},[a("a-button",{staticClass:"choose-btn",attrs:{icon:"down"},on:{click:t.choosePeople}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"群状态："}},[a("a-select",{model:{value:t.workRoomStatus,callback:function(e){t.workRoomStatus=e},expression:"workRoomStatus"}},t._l(t.status,(function(e,r){return a("a-select-option",{key:r,attrs:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"创建时间"}},[a("a-range-picker",{staticClass:"picker",on:{change:t.dateChange},model:{value:t.searchTime,callback:function(e){t.searchTime=e},expression:"searchTime"}})],1)],1),a("a-col",{attrs:{span:8,offset:3}},[a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@search",expression:"'/workRoom/index@search'"}],staticClass:"search",attrs:{type:"primary"},on:{click:t.search}},[t._v("查找")]),a("a-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)],1)],1),a("a-card",[a("div",{staticClass:"top-btn"},[a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@batch",expression:"'/workRoom/index@batch'"}],staticClass:"btn",attrs:{type:"primary"},on:{click:t.betchAlter}},[t._v("批量修改分组")]),a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@sync",expression:"'/workRoom/index@sync'"}],staticClass:"btn",attrs:{type:"primary"},on:{click:t.syncGroup}},[t._v("同步群")]),a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@add",expression:"'/workRoom/index@add'"}],staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){t.addGroupShow=!0}}},[t._v("增加分组")]),a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@edit",expression:"'/workRoom/index@edit'"}],attrs:{type:"primary"},on:{click:t.alterGroup}},[t._v("编辑分组")])],1),a("a-table",{attrs:{bordered:"",rowKey:"workRoomId",pagination:t.pagination,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,"data-source":t.tableData},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e,r){return a("div",{},[[a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@member",expression:"'/workRoom/index@member'"}],attrs:{type:"link"},on:{click:function(e){return t.member(r)}}},[t._v("群成员")]),a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/statistics",expression:"'/workRoom/statistics'"}],attrs:{type:"link"},on:{click:function(e){return t.statistics(r.workRoomId)}}},[t._v("群统计")]),a("a-button",{directives:[{name:"permission",rawName:"v-permission",value:"/workRoom/index@move",expression:"'/workRoom/index@move'"}],attrs:{type:"link"},on:{click:function(e){return t.move(r.workRoomId)}}},[t._v("移动分组")])]],2)}}])})],1)],1)],1),a("a-modal",{attrs:{title:"新增分组",width:640,visible:t.addGroupShow,okText:"确认",cancelText:"取消"},on:{ok:t.addGroup,cancel:function(e){t.addGroupShow=!1}}},[a("a-input",{staticClass:"add-input",attrs:{maxLength:15,placeholder:"请输入分组名（不得超过15个字符）"},model:{value:t.addGroupName,callback:function(e){t.addGroupName="string"===typeof e?e.trim():e},expression:"addGroupName"}})],1),a("a-modal",{attrs:{title:"编辑分组",width:640,visible:t.alterGroupShow,okText:"确认",cancelText:"取消"},on:{ok:t.alterGroupName,cancel:function(e){t.alterGroupShow=!1}}},[a("a-input",{staticClass:"add-input",attrs:{maxLength:15},model:{value:t.alterName,callback:function(e){t.alterName="string"===typeof e?e.trim():e},expression:"alterName"}}),a("template",{slot:"footer"},[a("a-button",{on:{click:t.alterGroupName}},[t._v(" 确认 ")]),a("a-button",{attrs:{type:"danger"},on:{click:t.deleteGroup}},[t._v(" 删除 ")]),a("a-button",{attrs:{type:"primary"},on:{click:function(e){t.alterGroupShow=!1}}},[t._v(" 取消 ")])],1)],2),a("a-modal",{attrs:{title:"选择企业成员",maskClosable:!1,width:700,visible:t.choosePeopleShow,okText:"确认",cancelText:"取消"},on:{ok:t.choosePeopleConfirm,cancel:function(e){t.choosePeopleShow=!1}}},[a("Department",{attrs:{memberKey:t.employees},on:{change:t.peopleChange}})],1),a("a-modal",{attrs:{title:"群成员",maskClosable:!1,width:900,visible:t.groupMemberShow,footer:null},on:{cancel:function(e){t.groupMemberShow=!1}}},[a("div",{staticClass:"member-wrapper"},[a("a-select",{staticClass:"member",attrs:{placeholder:"成员状态"},model:{value:t.memberSearch.status,callback:function(e){t.$set(t.memberSearch,"status",e)},expression:"memberSearch.status"}},[a("a-select-option",{attrs:{value:"1"}},[t._v(" 正常 ")]),a("a-select-option",{attrs:{value:"2"}},[t._v(" 退群 ")])],1),a("a-input",{staticClass:"search",attrs:{placeholder:"搜索群成员"},model:{value:t.memberSearch.name,callback:function(e){t.$set(t.memberSearch,"name",e)},expression:"memberSearch.name"}}),a("a-range-picker",{staticClass:"date",on:{change:t.memberDateChange},model:{value:t.memberSearchTime,callback:function(e){t.memberSearchTime=e},expression:"memberSearchTime"}}),a("a-button",{staticClass:"find",attrs:{type:"primary"},on:{click:t.peopleSearch}},[t._v("查找")]),a("a-button",{on:{click:t.memberReset}},[t._v("重置")])],1),a("div",[t._v(" 当前群成员："+t._s(t.memberNum)+"人；累计退群成员："+t._s(t.outRoomNum)+"人 ")]),a("a-table",{attrs:{bordered:"",rowKey:"workContactRoomId",columns:t.memberClumns,"data-source":t.memberData,pagination:t.memberPagination},on:{change:t.handleMemberChange},scopedSlots:t._u([{key:"name",fn:function(e,r){return a("div",{},[[a("div",{staticClass:"name-wrapper"},[a("div",{staticClass:"img-wrapper"},[r.avatar?a("img",{staticClass:"img",attrs:{src:r.avatar,alt:""}}):a("a-icon",{staticClass:"icon",attrs:{type:"user"}})],1),a("div",{staticClass:"detail"},[a("div",{staticClass:"name"},[t._v(" "+t._s(r.name)+" ")]),r.isOwner?a("a-button",{staticClass:"owner",attrs:{type:"primary"}},[t._v("群主")]):t._e()],1)])]],2)}},{key:"otherRooms",fn:function(e,r){return a("div",{},t._l(r.otherRooms,(function(e,r){return a("div",{key:r,staticClass:"otherRooms"},[t._v(" "+t._s(e)+" ")])})),0)}}])})],1),a("a-modal",{attrs:{title:"选择分组",maskClosable:!1,width:800,visible:t.changeGroupShow},on:{ok:t.moveGroup,cancel:function(e){t.changeGroupShow=!1}}},[a("div",{staticClass:"group-wrapper"},t._l(t.group,(function(e,r){return a("div",{key:r,staticClass:"group-item",class:{"group-active":t.moveGroupId==e.workRoomGroupId},on:{click:function(a){return t.checkGroup(e.workRoomGroupId)}}},[t._v(" "+t._s(e.workRoomGroupName)+" ")])})),0)])],1)},o=[],n=a("1da1"),i=a("5530"),s=(a("96cf"),a("99af"),a("7db0"),a("d3b7"),a("a15b"),a("d81d"),a("b0c0"),a("c1df")),c=a.n(s),u=a("5880"),l=a("59e4"),m=a("c297"),d=[{title:"群名称(人数)",dataIndex:"roomName",customRender:function(t,e){return"".concat(e.roomName," (").concat(e.memberNum,")")}},{title:"群主",dataIndex:"ownerName"},{title:"所属分组",dataIndex:"roomGroup"},{title:"状态",dataIndex:"statusText"},{title:"今日入群/退群",dataIndex:"outRoomNum",customRender:function(t,e){return"".concat(e.inRoomNum," / ").concat(e.outRoomNum)}},{title:"群公告",dataIndex:"notice",customRender:function(t,e){return"".concat(t||"---")}},{title:"创建时间",dataIndex:"createTime"},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],p=[{title:"群名称",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"入群时间",dataIndex:"joinTime"},{title:"所在其他群",dataIndex:"otherRooms",scopedSlots:{customRender:"otherRooms"}},{title:"退群时间",dataIndex:"outRoomTime"},{title:"入群方式",dataIndex:"joinSceneText"}],h={components:{Department:m["a"]},data:function(){return{columns:d,memberClumns:p,tableData:[],group:[],active:"all",addGroupShow:!1,addGroupName:"",alterGroupShow:!1,alterGroupId:"",alterName:"",workRoomName:"",workRoomOwnerId:[],employees:[],workRoomStatus:"",startTime:"",endTime:"",searchTime:null,status:[{name:"全部",value:""},{name:"正常",value:0},{name:"跟进人离职",value:1},{name:"离职继承中",value:2},{name:"离职继承完成",value:3}],groupName:[],choosePeopleShow:!1,groupMemberShow:!1,memberSearch:{status:"",name:"",startTime:"",endTime:""},memberPagination:{total:0,current:1,pageSize:10,showSizeChanger:!0},memberNum:0,outRoomNum:0,memberSearchTime:null,memberData:[],changeGroupShow:!1,moveGroupId:"",workRoomIds:"",workRoomId:"",pagination:{total:0,current:1,pageSize:10,showSizeChanger:!0},selectedRowKeys:[]}},computed:Object(i["a"])({},Object(u["mapGetters"])(["corpId","corpName"])),created:function(){var t=this,e=this.corpId?0:2e3;setTimeout((function(){t.getGroupList(),t.getTableData()}),e)},methods:{getGroupList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={corpId:t.corpId,page:1,perPage:100},e.prev=1,e.next=4,Object(l["C"])(a);case 4:r=e.sent,o=r.data.list,t.group=[{workRoomGroupId:"all",workRoomGroupName:"全部分组"},{workRoomGroupId:0,workRoomGroupName:"未分组"}].concat(o),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))()},groupChange:function(t){var e=this.group.find((function(e){return e.workRoomGroupId===t})),a=e.workRoomGroupName;this.alterName=a,this.getTableData()},alterGroup:function(){0!==this.active&&"all"!==this.active?(this.alterGroupId=this.active,this.alterGroupShow=!0):this.$message.warn("请选择其他分组")},deleteGroup:function(t,e){var a=this;this.$confirm({title:"提示",content:"【".concat(this.alterName,"】一旦删除，归属于该分组的群都将被移至【未分组】,确认删除分组吗?"),onOk:function(){Object(l["k"])({workRoomGroupId:a.active}).then((function(t){a.getGroupList(),a.alterGroupShow=!1,a.active=0}))},onCancel:function(){}})},addGroup:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.addGroupName){e.next=3;break}return t.$message.error("请输入分组名称"),e.abrupt("return");case 3:if(a=t.group.find((function(e){return e.workRoomGroupName==t.addGroupName})),!a&&"未分组"!=t.addGroupName){e.next=7;break}return t.$message.error("不能重复添加分组"),e.abrupt("return");case 7:return r={corpId:t.corpId,workRoomGroupName:t.addGroupName},e.prev=8,e.next=11,Object(l["i"])(r);case 11:t.addGroupShow=!1,t.addGroupName="",t.getGroupList(),e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](8);case 18:case"end":return e.stop()}}),e,null,[[8,16]])})))()},alterGroupName:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.alterName){e.next=3;break}return t.$message.error("请输入分组名称"),e.abrupt("return");case 3:return a={workRoomGroupId:t.alterGroupId,workRoomGroupName:t.alterName},e.prev=4,e.next=7,Object(l["x"])(a);case 7:t.getGroupList(),t.alterGroupShow=!1,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](4);case 13:case"end":return e.stop()}}),e,null,[[4,11]])})))()},getTableData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={roomGroupId:t.active,workRoomName:t.workRoomName,workRoomOwnerId:t.workRoomOwnerId.join(","),workRoomStatus:t.workRoomStatus,startTime:t.startTime,endTime:t.endTime,page:t.pagination.current,perPage:t.pagination.pageSize},e.prev=1,e.next=4,Object(l["D"])(t.handleParam(a));case 4:r=e.sent,o=r.data,n=o.page.total,i=o.list,t.pagination.total=n,t.tableData=i,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})))()},handleParam:function(t){for(var e in t){var a=t[e];a||0===a||delete t[e]}return t},search:function(){this.getTableData()},reset:function(){this.active="all",this.workRoomName="",this.workRoomOwnerId=[],this.employees=[],this.workRoomStatus="",this.startTime="",this.endTime="",this.searchTime=null},betchAlter:function(){0!=this.selectedRowKeys.length?(this.workRoomIds=this.selectedRowKeys.join(","),this.changeGroupShow=!0):this.$message.warn("请选择需要修改分组的群")},syncGroup:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["u"])({corpId:t.corpId});case 3:return e.next=5,t.getTableData();case 5:t.$message.success("同步成功"),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},handleSearch:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={roomGroupId:e.active,workRoomName:t,page:1,perPage:50},a.prev=1,a.next=4,Object(l["D"])(r);case 4:o=a.sent,n=o.data.list,e.groupName=n,a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:case"end":return a.stop()}}),a,null,[[1,9]])})))()},handleChange:function(t){this.workRoomName=t},choosePeople:function(){this.choosePeopleShow=!0},peopleChange:function(t){this.employees=t},choosePeopleConfirm:function(){this.workRoomOwnerId=this.employees.map((function(t){return t.employeeId})),this.choosePeopleShow=!1},dateChange:function(t,e){this.startTime=e[0],this.endTime=e[1],e[0]&&e[1]?this.searchTime=[c()(this.startTime,"YYYY-MM-DD"),c()(this.endTime,"YYYY-MM-DD")]:this.searchTime=null},memberDateChange:function(t,e){this.memberSearch.startTime=e[0],this.memberSearch.endTime=e[1],e[0]&&e[1]?this.memberSearchTime=[c()(this.memberSearch.startTime,"YYYY-MM-DD"),c()(this.memberSearch.endTime,"YYYY-MM-DD")]:this.memberSearchTime=null},member:function(t){this.workRoomId=t.workRoomId,this.groupMemberShow=!0,this.peopleSearch()},peopleSearch:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(i["a"])(Object(i["a"])({},t.memberSearch),{},{workRoomId:t.workRoomId,page:t.memberPagination.current,perPage:t.memberPagination.pageSize}),e.prev=1,e.next=4,Object(l["y"])(t.handleParam(a));case 4:r=e.sent,o=r.data,n=o.memberNum,s=o.outRoomNum,c=o.page.total,u=o.list,t.memberNum=n||0,t.outRoomNum=s||0,t.memberPagination.total=c||0,t.memberData=u||[],e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](1);case 18:case"end":return e.stop()}}),e,null,[[1,16]])})))()},memberReset:function(){this.memberSearch.status="",this.memberSearch.name="",this.memberSearch.startTime="",this.memberSearch.endTime="",this.memberSearchTime=null},statistics:function(t){this.$router.push({path:"/workRoom/statistics",query:{workRoomId:t}})},checkGroup:function(t){this.moveGroupId=t},move:function(t){this.moveGroupId=this.active,this.workRoomIds=String(t),this.changeGroupShow=!0},moveGroup:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={workRoomGroupId:t.moveGroupId,workRoomIds:t.workRoomIds},e.prev=1,e.next=4,Object(l["f"])(a);case 4:t.changeGroupShow=!1,t.$message.success("修改成功"),t.selectedRowKeys=[],t.getTableData(),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})))()},handleTableChange:function(t){var e=t.current,a=t.pageSize;this.pagination.current=e,this.pagination.pageSize=a,this.getTableData()},onSelectChange:function(t,e){this.selectedRowKeys=t},handleMemberChange:function(t){var e=t.current,a=t.pageSize;this.memberPagination.current=e,this.memberPagination.pageSize=a,this.peopleSearch()}}},f=h,b=(a("4130"),a("2877")),v=Object(b["a"])(f,r,o,!1,null,"f1668eee",null);e["default"]=v.exports},"558e":function(t,e,a){},"59e4":function(t,e,a){"use strict";a.d(e,"C",(function(){return o})),a.d(e,"k",(function(){return n})),a.d(e,"i",(function(){return i})),a.d(e,"x",(function(){return s})),a.d(e,"D",(function(){return c})),a.d(e,"u",(function(){return u})),a.d(e,"f",(function(){return l})),a.d(e,"y",(function(){return m})),a.d(e,"A",(function(){return d})),a.d(e,"l",(function(){return p})),a.d(e,"t",(function(){return h})),a.d(e,"s",(function(){return f})),a.d(e,"B",(function(){return b})),a.d(e,"e",(function(){return v})),a.d(e,"c",(function(){return g})),a.d(e,"d",(function(){return w})),a.d(e,"z",(function(){return y})),a.d(e,"b",(function(){return k})),a.d(e,"w",(function(){return R})),a.d(e,"q",(function(){return x})),a.d(e,"o",(function(){return S})),a.d(e,"v",(function(){return I})),a.d(e,"a",(function(){return T})),a.d(e,"n",(function(){return C})),a.d(e,"j",(function(){return _})),a.d(e,"p",(function(){return N})),a.d(e,"g",(function(){return O})),a.d(e,"h",(function(){return G})),a.d(e,"m",(function(){return j})),a.d(e,"r",(function(){return D}));var r=a("b775");function o(t){return Object(r["b"])({url:"/workRoomGroup/index",method:"get",params:t})}function n(t){return Object(r["b"])({url:"/workRoomGroup/destroy",method:"delete",data:t})}function i(t){return Object(r["b"])({url:"/workRoomGroup/store",method:"post",data:t})}function s(t){return Object(r["b"])({url:"/workRoomGroup/update",method:"put",data:t})}function c(t){return Object(r["b"])({url:"/workRoom/index",method:"get",params:t})}function u(t){return Object(r["b"])({url:"/workRoom/syn",method:"put",data:t})}function l(t){return Object(r["b"])({url:"/workRoom/batchUpdate",method:"put",data:t})}function m(t){return Object(r["b"])({url:"/workContactRoom/index",method:"get",params:t})}function d(t){return Object(r["b"])({url:"/workEmployeeDepartment/memberIndex",method:"get",params:t})}function p(t){return Object(r["b"])({url:"/workDepartment/index",method:"get",params:t})}function h(t){return Object(r["b"])({url:"/workRoom/statisticsIndex",method:"get",params:t})}function f(t){return Object(r["b"])({url:"/workRoom/statistics",method:"get",params:t})}function b(t){return Object(r["b"])({url:"/workRoomAutoPull/index",method:"get",params:t})}function v(t){return Object(r["b"])({url:"/workRoomAutoPull/update",method:"put",data:t})}function g(t){return Object(r["b"])({url:"/workRoomAutoPull/store",method:"post",data:t})}function w(t){return Object(r["b"])({url:"/workRoomAutoPull/show",method:"get",params:t})}function y(t){return Object(r["b"])({url:"/workContactTagGroup/index",method:"get",params:t})}function k(t){return Object(r["b"])({url:"/workContactTag/store",method:"post",data:t})}function R(t){return Object(r["b"])({url:"/workContactTag/allTag",method:"get",params:t})}function x(t){return Object(r["b"])({url:"/workRoom/roomIndex",method:"get",params:t})}function S(t){return Object(r["b"])({url:"/roomTagPull/roomList",method:"get",params:t})}function I(t){return Object(r["b"])({url:"/roomTagPull/index",method:"get",params:t})}function T(t){return Object(r["b"])({url:"/roomTagPull/store",method:"POST",data:t})}function C(t){return Object(r["b"])({url:"/roomTagPull/show",method:"GET",params:t})}function _(t){return Object(r["b"])({url:"/roomTagPull/destroy",method:"DELETE",data:t})}function N(t){return Object(r["b"])({url:"/roomTagPull/remindSend",method:"GET",params:t})}function O(t){return Object(r["b"])({url:"/roomTagPull/chooseContact",method:"GET",params:t})}function G(t){return Object(r["b"])({url:"/roomTagPull/filterContact",method:"POST",data:t})}function j(t){return Object(r["b"])({url:"/roomTagPull/showContact",method:"GET",params:t})}function D(t){return Object(r["b"])({url:"/contactMessageBatchSend/showRoom",method:"GET",params:t})}},"6b75":function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}a.d(e,"a",(function(){return r}))},"6e1f":function(t,e,a){},8522:function(t,e,a){t.exports=a.p+"assets/avatar-room-default.67bead38.svg"},"99e2":function(t,e,a){},c297:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"people-wrapper"},[a("div",{staticClass:"people-left"},[a("a-input-search",{staticClass:"add-input",attrs:{maxLength:15},on:{search:t.getDepartmentList},model:{value:t.searchKeyWords,callback:function(e){t.searchKeyWords="string"===typeof e?e.trim():e},expression:"searchKeyWords"}}),a("a-tree",{attrs:{"show-icon":"",checkable:"",replaceFields:t.replaceFields,checkStrictly:!1,"expanded-keys":t.expandedKeys,"selected-keys":t.selectedKeys,"tree-data":t.treeData},on:{check:t.onCheck,expand:t.onExpand},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}},[a("a-icon",{attrs:{slot:"folder",type:"folder-open"},slot:"folder"})],1)],1),a("div",{staticClass:"people-right"},[a("div",{staticClass:"total"},[t._v("已选择成员")]),a("ul",t._l(t.choosePeopleKey,(function(e,r){return a("li",{key:r,staticClass:"number"},[a("span",{staticClass:"title"},[t._v(t._s(e.employeeName))]),a("a-icon",{staticClass:"close",attrs:{type:"close"},on:{click:function(a){return t.deletePeople(e,r)}}})],1)})),0)])])},o=[],n=a("2909"),i=a("1da1"),s=a("5530"),c=(a("4de4"),a("d3b7"),a("a15b"),a("caad"),a("2532"),a("a434"),a("d81d"),a("0481"),a("4069"),a("159b"),a("99af"),a("96cf"),a("59e4")),u=a("5880"),l={name:"Department",props:{memberKey:{type:Array,default:function(){return[]}},isChecked:{type:Array,default:function(){return[]}}},data:function(){return{searchKeyWords:"",checkedKeys:[],replaceFields:{title:"name",key:"id",children:"son"},expandedKeys:[],selectedKeys:[],treeData:[],lastCheckdKeys:[],choosePeopleKey:[],departmentIds:[],flatAry:[],unchecked:[]}},watch:{memberKey:function(t){this.choosePeopleKey=t},choosePeopleKey:function(t){this.$emit("change",t)},isChecked:function(t){this.checkedKeys=t}},computed:Object(s["a"])({},Object(u["mapGetters"])(["corpName"])),created:function(){var t=this;this.choosePeopleKey=this.memberKey,this.checkedKeys=this.isChecked;var e=this.corpName?0:2e3;setTimeout((function(){t.getDepartmentList()}),e)},methods:{getDepartmentList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={searchKeyWords:t.searchKeyWords},e.prev=1,e.next=4,Object(c["l"])(a);case 4:r=e.sent,o=r.data,n=o.department,i=o.employee,""!==t.searchKeyWords&&t.$emit("search",i),t.department=n||[],t.employee=i||[],t.treeData=[{name:t.corpName,nameEn:"company",id:"company",slots:{icon:"folder"},son:n}],e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])})))()},onCheck:function(t){var e=this,a=t.length,r=this.lastCheckdKeys.length,o=[],n=[];a>r?(o=t.filter((function(t){return-1==e.lastCheckdKeys.indexOf(t)&&"company"!==t})),this.getWorkDepartmentList(o.join(","))):(n=this.lastCheckdKeys.filter((function(e){return-1==t.indexOf(e)&&"company"!==e})),this.choosePeopleKey=this.choosePeopleKey.filter((function(t){return!n.includes(t.departmentId)}))),this.lastCheckdKeys=t},onExpand:function(t){this.expandedKeys=t},deletePeople:function(t,e){var a=this;this.choosePeopleKey.splice(e,1);var r=this.departmentIds[t.employeeId];r.map((function(t){var e=a.choosePeopleKey.filter((function(e){return e.departmentId==t}));if(0==e.length){var r=a.checkedKeys.indexOf("company");r>-1&&a.checkedKeys.splice(r,1),a.dealDeleteData(t),a.unchecked.map((function(t){var e=a.checkedKeys.indexOf(t);e>-1&&a.checkedKeys.splice(e,1)}))}})),0==this.choosePeopleKey.length&&(this.checkedKeys=[])},dealDeleteData:function(t){var e=this.treeData[0];this.flatAry=[],this.unchecked=[],this.flat(e.son,t);var a=this.unchecked.length;a>1&&this.filterId(this.unchecked[a-1])},filterId:function(t){var e=this;this.flatAry.filter((function(a){if(a.id==t)return e.unchecked.push(t),0!=a.parentId&&e.filterId(a.parentId),!0}))},flat:function(t,e){var a=this;t.forEach((function(t){a.flatAry.push(t),t.id==e&&(0!=t.parentId?a.unchecked=[t.id,t.parentId]:a.unchecked=[t.id]),t.son&&a.flat(t.son,e)}))},getWorkDepartmentList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,o,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.departmentIds={},a.prev=1,a.next=4,Object(c["A"])({departmentIds:t});case 4:r=a.sent,o=r.data,o=o||[],e.choosePeopleKey=[].concat(Object(n["a"])(e.choosePeopleKey),Object(n["a"])(o)),i=[],s=[],e.choosePeopleKey.forEach((function(t){var a=s.indexOf(t.employeeId);a>-1?e.departmentIds[t.employeeId].push(t.departmentId):(e.departmentIds[t.employeeId]=[t.departmentId],s.push(t.employeeId),i.push(t))})),e.choosePeopleKey=i,a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](1);case 16:case"end":return a.stop()}}),a,null,[[1,14]])})))()}}},m=l,d=(a("4f1c"),a("2877")),p=Object(d["a"])(m,r,o,!1,null,"393e889a",null);e["a"]=p.exports},df2d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-statistics"},[a("a-card",[a("div",{staticClass:"number-box"},[a("div",{staticClass:"number one"},[a("p",[t._v("今日新增成员数")]),a("h1",[t._v(t._s(t.addNum))])]),a("div",{staticClass:"number two"},[a("p",[t._v("今日退群成员数")]),a("h1",[t._v(t._s(t.outNum))])]),a("div",{staticClass:"number thr"},[a("p",[t._v("当前群成员数")]),a("h1",[t._v(t._s(t.total))])]),a("div",{staticClass:"number four"},[a("p",[t._v("累计退群成员数")]),a("h1",[t._v(t._s(t.outTotal))])])]),a("div",{staticClass:"type-wrapper"},[a("a-button",{staticClass:"type",attrs:{type:1==t.type?"primary":""},on:{click:function(e){return t.changeType(1)}}},[t._v("按日")]),a("a-range-picker",{staticClass:"type",on:{change:t.dateChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("a-button",{staticClass:"type",attrs:{type:2==t.type?"primary":""},on:{click:function(e){return t.changeType(2)}}},[t._v("按周")]),a("a-button",{attrs:{type:3==t.type?"primary":""},on:{click:function(e){return t.changeType(3)}}},[t._v("按月")])],1),a("div",[t._v(" 这段时间里，该群共新增成员数 "+t._s(t.addNumRange)+" 人，成员退群 "+t._s(t.outNumRange)+" 人 ")]),t.statisticsShow?a("div",{staticClass:"chart-wrapper"},[a("v-chart",{attrs:{options:t.options}})],1):t._e(),a("div",{staticClass:"table-title"},[t._v(" 详细数据 ")]),a("a-table",{attrs:{bordered:"",rowKey:"time",pagination:t.pagination,columns:t.columns,"data-source":t.tableData},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e,r){return a("div",{},[[a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.member(r)}}},[t._v("群成员")]),a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.statistics(r.workRoomId)}}},[t._v("群统计")]),a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.move(r.workRoomId)}}},[t._v("移动分组")])]],2)}}])})],1)],1)},o=[],n=a("1da1"),i=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("b0c0"),a("c1df")),s=a.n(i),c=a("59e4"),u=[{title:"时间",dataIndex:"time"},{title:"新增成员数",dataIndex:"addNum"},{title:"退群人数",dataIndex:"outNum"},{title:"当前群成员数",dataIndex:"total"},{title:"累计退群成员数",dataIndex:"outTotal"}],l={data:function(){return{columns:u,workRoomId:"",type:2,time:null,startTime:"",endTime:"",addNum:0,outNum:0,total:0,outTotal:0,addNumRange:0,outNumRange:0,statisticsShow:!0,options:{tooltip:{trigger:"axis"},legend:{data:["新增成员","离开成员"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{name:"新增成员",type:"line",data:[],itemStyle:{normal:{color:"#1890ff",lineStyle:{color:"#1890ff"}}}},{name:"离开成员",type:"line",data:[],itemStyle:{normal:{color:"yellow",lineStyle:{color:"yellow"}}}}]},tableData:[],pagination:{total:0,current:1,pageSize:10,showSizeChanger:!0}}},created:function(){this.workRoomId=this.$route.query.workRoomId,this.getStatisticsData(),this.getListData()},methods:{getStatisticsData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i,s,u,l,m,d,p,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={workRoomId:t.workRoomId,type:t.type,startTime:t.startTime,endTime:t.endTime},e.prev=1,e.next=4,Object(c["s"])(a);case 4:if(r=e.sent,o=r.data,n=o.addNum,i=o.outNum,s=o.total,u=o.outTotal,l=o.addNumRange,m=o.outNumRange,d=o.list,t.addNum=n||0,t.outNum=i||0,t.total=s||0,t.outTotal=u||0,t.addNumRange=l||0,t.outNumRange=m||0,p=[],h=[],f=[],d&&0!=d.length){e.next=25;break}return t.statisticsShow=!1,e.abrupt("return");case 25:return t.statisticsShow=!0,d.forEach((function(t){p.push(t.time),h.push(t.addNum),f.push(t.outNum)})),t.options.xAxis.data=p,t.options.series=t.options.series.map((function(t){return"新增成员"==t.name?t.data=h:t.data=f,t})),e.abrupt("return",!0);case 32:e.prev=32,e.t0=e["catch"](1);case 34:case"end":return e.stop()}}),e,null,[[1,32]])})))()},getListData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,o,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={workRoomId:t.workRoomId,type:t.type,startTime:t.startTime,endTime:t.endTime,page:t.pagination.current,perPage:t.pagination.pageSize},e.prev=1,e.next=4,Object(c["t"])(a);case 4:r=e.sent,o=r.data,n=o.page.total,i=o.list,t.tableData=i||[],t.pagination.total=n||0,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})))()},dateChange:function(t,e){this.startTime=e[0],this.endTime=e[1],e[0]&&e[1]?this.time=[s()(this.startTime,"YYYY-MM-DD"),s()(this.endTime,"YYYY-MM-DD")]:this.time=null},changeType:function(t){var e=this;this.type=t,this.getStatisticsData().then((function(t){t&&e.getListData()}))},handleTableChange:function(t){var e=t.current,a=t.pageSize;this.pagination.current=e,this.pagination.pageSize=a,this.getListData()}}},m=l,d=(a("fc76"),a("2877")),p=Object(d["a"])(m,r,o,!1,null,"e61ea81e",null);e["default"]=p.exports},fc76:function(t,e,a){"use strict";a("99e2")}}]);