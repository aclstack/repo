(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contact-transfer"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f");var s=a("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(s["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(s["a"])(t,e):void 0}}},"11d1":function(t,e,a){"use strict";a("7015")},2263:function(t,e,a){"use strict";a("9c58")},2611:function(t,e,a){"use strict";a("ac24")},"2ee5":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"g",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"a",(function(){return o})),a.d(e,"i",(function(){return l})),a.d(e,"h",(function(){return d})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return m})),a.d(e,"l",(function(){return h})),a.d(e,"k",(function(){return f})),a.d(e,"j",(function(){return p}));var s=a("b775");function n(t){return Object(s["b"])({url:"/channelCodeGroup/index",method:"get",params:t})}function i(t){return Object(s["b"])({url:"/channelCodeGroup/update",method:"put",data:t})}function r(t){return Object(s["b"])({url:"/channelCodeGroup/store",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/channelCodeGroup/move",method:"put",data:t})}function o(t){return Object(s["b"])({url:"/channelCode/store",method:"post",data:t})}function l(t){return Object(s["b"])({url:"/channelCode/update",method:"put",data:t})}function d(t){return Object(s["b"])({url:"/channelCode/index",method:"get",params:t})}function u(t){return Object(s["b"])({url:"/channelCode/contact",method:"get",params:t})}function m(t){return Object(s["b"])({url:"/channelCode/show",method:"get",params:t})}function h(t){return Object(s["b"])({url:"/channelCode/statisticsIndex",method:"get",params:t})}function f(t){return Object(s["b"])({url:"/channelCode/statistics",method:"get",params:t})}function p(t){return Object(s["b"])({url:"/workDepartment/index",method:"get",params:t})}},"305a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"resign-index"},[a("a-card",{staticClass:"mb16"},[a("a-tabs",{attrs:{type:"card","default-active-key":"0"},on:{change:t.tabSwitch}},[a("a-tab-pane",{key:"0",attrs:{tab:"待分配客户"}},[a("div",{staticClass:"filter-form"},[a("div",{staticClass:"item"},[a("label",[t._v("客户昵称：")]),a("div",{staticClass:"input"},[a("a-input-search",{attrs:{placeholder:"请输入要搜索的客户",allowClear:!0},on:{search:t.retrievalClient,change:t.emptyClientIpt},model:{value:t.paramsAskClient.contactName,callback:function(e){t.$set(t.paramsAskClient,"contactName",e)},expression:"paramsAskClient.contactName"}})],1)]),a("div",{staticClass:"item"},[a("label",[t._v("所属客服：")]),a("div",{staticClass:"input belongTo",on:{click:function(e){return t.$refs.selectMember.show()}}},[0==t.showEmployee.length?a("span",{staticClass:"tips"},[t._v("请选择客服")]):t._e(),t._l(t.showEmployee,(function(e,s){return a("a-tag",{key:s},[t._v(t._s(e.name))])}))],2)]),a("selectMember",{ref:"selectMember",on:{change:t.effectStaff}}),a("div",{staticClass:"item"},[a("label",[t._v("添加时间：")]),a("div",{staticClass:"input"},[a("a-range-picker",{on:{change:t.retrievalDate},model:{value:t.showTimeSearch,callback:function(e){t.showTimeSearch=e},expression:"showTimeSearch"}})],1)]),a("div",{staticClass:"item"},[a("a-button",{on:{click:t.resetBtn}},[t._v("重置")])],1)],1)]),a("a-tab-pane",{key:"1",attrs:{tab:"待分配群聊"}},[a("div",{staticClass:"filter-form"},[a("div",{staticClass:"item"},[a("label",[t._v("群名称：")]),a("div",{staticClass:"input"},[a("a-input-search",{attrs:{placeholder:"请输入要搜索的群名称",allowClear:!0},on:{search:t.retrievalGroup,change:t.emptyGroupIpt},model:{value:t.paramsAskGroup.roomName,callback:function(e){t.$set(t.paramsAskGroup,"roomName",e)},expression:"paramsAskGroup.roomName"}})],1)])])])],1)],1),a("a-card",[a("div",{staticClass:"flex"},[a("div",{staticClass:"info-box"},[a("span",{staticClass:"f-blod"},[t._v("共"+t._s(t.table.data.length)+"个已分配客户")]),a("a-divider",{attrs:{type:"vertical"}}),0==t.currentTab?a("span",{staticClass:"desc-text"},[t._v("上次同步时间："+t._s(t.synchroTime))]):t._e()],1),a("div",{staticClass:"btn-box"},[0==t.currentTab?a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.allocation}},[t._v("分配客户")]):a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.distributionGroup}},[t._v("分配群聊")]),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(e){return t.$router.push("/contactTransfer/resignAllotRecord")}}},[t._v("分配记录")]),0==t.currentTab?a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.updateTo}},[t._v("同步")]):t._e()],1),a("selectStaff",{ref:"choiceStaff",on:{change:t.acceptData}})],1),a("div",{staticClass:"table mt20"},[a("a-table",{attrs:{columns:0==t.currentTab?t.table.clientCol:t.table.groupCol,"data-source":t.table.data,"row-selection":{selectedRowKeys:t.table.rowSelection,onChange:t.onSelectChange},pagination:!0},scopedSlots:t._u([{key:"employeeName",fn:function(e){return a("div",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(t._s(e))],1)],1)}},{key:"tags",fn:function(e){return a("div",{},t._l(e,(function(e,s){return a("a-tag",{key:s},[t._v(t._s(e))])})),1)}},{key:"operation",fn:function(e,s){return a("div",{},[a("a",{on:{click:function(e){return t.$router.push({path:"/workContact/contactFieldPivot?contactId="+s.contactId+"&employeeId="+s.employeeId+"&isContact=2"})}}},[t._v("客户详情")])])}},{key:"owner",fn:function(e){return a("div",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(t._s(e))],1)],1)}}])},[a("div",{attrs:{slot:"handGroup"},slot:"handGroup"},[a("a",[t._v("群聊详情")])])])],1)])],1)},n=[],i=(a("d3b7"),a("159b"),a("ccbc")),r=a("4a04"),c=a("4721"),o={components:{selectMember:r["a"],selectStaff:c["a"]},data:function(){return{synchroTime:"",currentTab:0,showEmployee:[],showTimeSearch:[],paramsAskClient:{employeeId:"",contactName:"",addTimeStart:"",addTimeEnd:""},tableSelectClient:[],paramsAskGroup:{roomName:""},table:{clientCol:[{key:"nickName",dataIndex:"nickName",title:"客户昵称"},{key:"employeeName",dataIndex:"employeeName",title:"所属客服",scopedSlots:{customRender:"employeeName"}},{key:"tags",dataIndex:"tags",title:"客户标签",scopedSlots:{customRender:"tags"}},{key:"addTime",dataIndex:"addTime",title:"添加时间"},{key:"lastMsgTime",dataIndex:"lastMsgTime",title:"上次对话时间"},{key:"addWay",dataIndex:"addWay",title:"添加渠道"},{key:"operation",dataIndex:"operation",title:"操作",scopedSlots:{customRender:"operation"}}],groupCol:[{key:"roomName",dataIndex:"roomName",title:"群聊名称"},{key:"owner",dataIndex:"owner",title:"群主",scopedSlots:{customRender:"owner"}},{key:"userNum",dataIndex:"userNum",title:"群人数"},{key:"addNum",dataIndex:"addNum",title:"今日入群"},{key:"quitNum",dataIndex:"quitNum",title:"今日退群"},{key:"createTime",dataIndex:"createTime",title:"创群时间"},{key:"handGroup",dataIndex:"handGroup",title:"操作",scopedSlots:{customRender:"handGroup"}}],data:[],rowSelection:[]}}},created:function(){this.getClientTableData()},methods:{onSelectChange:function(t){var e=this;this.tableSelectClient=[],this.table.rowSelection=t,0==this.currentTab?t.forEach((function(t){var a={employeeWxId:"",contactWxId:""};a.employeeWxId=e.table.data[t].employeeWxId,a.contactWxId=e.table.data[t].contactWxId,e.tableSelectClient.push(a)})):t.forEach((function(t,a){e.tableSelectClient[a]=e.table.data[t].chatId}))},allocation:function(){if(""==this.tableSelectClient)return this.$message.warning("请选择客户"),!1;this.$refs.choiceStaff.show(0)},distributionGroup:function(){if(""==this.tableSelectClient)return this.$message.warning("请选择群聊"),!1;this.$refs.choiceStaff.show(0)},acceptData:function(t){var e=this;if(0==this.currentTab){var a={type:1,list:JSON.stringify(this.tableSelectClient),takeoverUserId:t.wxUserId};Object(i["b"])(a).then((function(t){var a=0,s=0;t.data.forEach((function(t,e){0==t.errcode?a++:s++})),e.$message.info("已成功分配"+a+"位客户，分配失败"+s+"位客户"),e.table.rowSelection=[]}))}else{var s={type:1,list:JSON.stringify(this.tableSelectClient),takeoverUserId:t.wxUserId};Object(i["e"])(s).then((function(t){var a=0,s=0;t.data.forEach((function(t,e){0==t.errcode?a++:s++})),e.$message.info("已成功分配"+a+"个群聊，分配失败"+s+"个群聊"),e.table.rowSelection=[]}))}},updateTo:function(){this.table.data=[],this.getClientTableData(this.paramsAskClient),this.$message.success("同步成功")},resetBtn:function(){this.paramsAskClient={},this.showEmployee=[],this.showTimeSearch=[],this.getClientTableData(this.paramsAskClient)},effectStaff:function(t){this.showEmployee=t;var e=[];t.forEach((function(t,a){e[a]=t.id})),this.paramsAskClient.employeeId=JSON.stringify(e),this.getClientTableData(this.paramsAskClient)},retrievalClient:function(){this.getClientTableData(this.paramsAskClient)},emptyClientIpt:function(){""==this.paramsAskClient.contactName&&this.getClientTableData(this.paramsAskClient)},retrievalDate:function(t,e){this.paramsAskClient.addTimeStart=e[0],this.paramsAskClient.addTimeEnd=e[1],this.getClientTableData(this.paramsAskClient)},getClientTableData:function(t){var e=this;Object(i["g"])(t).then((function(t){e.table.data=t.data.list,e.synchroTime=t.data.lastTime}))},retrievalGroup:function(){this.getGroupTable(this.paramsAskGroup)},emptyGroupIpt:function(){""==this.paramsAskGroup.roomName&&this.getGroupTable(this.paramsAskGroup)},getGroupTable:function(t){var e=this;Object(i["f"])(t).then((function(t){e.table.data=t.data}))},tabSwitch:function(t){this.currentTab=t,this.table.data=[],this.table.rowSelection=[],0==this.currentTab?this.getClientTableData(this.paramsAskClient):1==this.currentTab&&this.getGroupTable(this.paramsAskGroup)}}},l=o,d=(a("e51d"),a("2877")),u=Object(d["a"])(l,s,n,!1,null,"feca2d96",null);e["default"]=u.exports},"46d0":function(t,e,a){},4721:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"popContent",attrs:{title:"分配客户",maskClosable:!1,footer:null},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"tipsStyle"},[a("div",[t._v("可将选中的客户转接给其他员工，进行后续服务")]),a("div",[t._v("注意:90天内客户只能被转接一次，一个客户最多只能被转接两次详情")])]),a("div",{staticClass:"screen"},[a("span",[t._v("接替员工：")]),a("div",[a("a-select",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{placeholder:"请选择企业员工",showSearch:!0},on:{change:t.selectStaff}},t._l(t.staffArray,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.name}},[t._v(t._s(e.name)+" ")])})),1),a("div",{staticClass:"tips"},[a("span",[t._v("未找到接替员工？")]),a("a",[t._v("查看详情")])])],1)]),a("div",{staticClass:"btnRow"},[a("a-button",{on:{click:t.hidden}},[t._v("取消")]),a("a-button",{attrs:{type:"primary"},on:{click:t.determine}},[t._v("确定")])],1)])],1)},n=[],i=(a("d3b7"),a("159b"),a("b0c0"),a("ccbc")),r={data:function(){return{visible:!1,staffName:{},staffArray:[]}},methods:{selectStaff:function(t){var e=this;this.staffArray.forEach((function(a){t==a.name&&(e.staffName=a)}))},determine:function(){this.visible=!1,this.$emit("change",this.staffName)},show:function(t){this.visible=!0,this.staffName=[],this.getNumberData()},hidden:function(){this.visible=!1},getNumberData:function(){var t=this;Object(i["a"])().then((function(e){t.staffArray=e.data.employee}))}}},c=r,o=(a("b3fe"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,null,null);e["a"]=l.exports},"4a04":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[a("a-modal",{attrs:{"on-ok":"handleOk",width:636,footer:!1,centered:"",maskClosable:!1},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("template",{slot:"title"},[t._v(" 选择成员 ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"left-content"},[a("div",{staticClass:"tips"},[t._v(" 没有想要添加的成员？ "),a("a",{attrs:{href:"#"}},[t._v("添加成员教程")])]),a("div",{staticClass:"search"},[a("a-input-search",{attrs:{placeholder:"请输入成员昵称"},on:{search:t.search}})],1),a("div",{staticClass:"member"},t._l(t.members,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.avatar}})]),a("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")])]),a("div",{staticClass:"radio"},[a("a-checkbox",{on:{change:function(a){return t.selectChange(e)}},model:{value:e.select,callback:function(a){t.$set(e,"select",a)},expression:"v.select"}})],1)])})),0)]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"tips"},[t._v(" 已选成员：（"+t._s(t.selectedMembers.length)+"） ")]),a("div",{staticClass:"member"},t._l(t.selectedMembers,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.avatar}})]),a("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")])])])})),0)])]),a("div",{staticClass:"confirm"},[a("a-button",{on:{click:function(e){t.modalShow=!1}}},[t._v("取消")]),a("a-button",{attrs:{type:"primary"},on:{click:t.go}},[t._v("确定")])],1)],2)],1)},n=[],i=a("b85c"),r=(a("d3b7"),a("159b"),a("4de4"),a("a434"),a("2ee5")),c={data:function(){return{modalShow:!1,loading:!1,members:[],selectedMembers:[],currentData:{}}},methods:{setSelect:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.selectedMembers=[],t.forEach((function(t,a){e.selectedMembers[a]=t})),this.currentData=a,this.getData("",(function(t){e.selectedMembers.forEach((function(t){e.members.forEach((function(e){t.wxUserId===e.wxUserId&&(t.avatar||(t.avatar=e.avatar),e.select=!0)}))}))})),this.reset(),this.modalShow=!0},search:function(t){this.getData(t)},selectChange:function(t){var e=-1,a=this.selectedMembers.filter((function(a,s){if(a.id===t.id)return e=s,a}));if(a.length)return this.selectedMembers.splice(e,1),!1;this.selectedMembers.push(t)},reset:function(){var t,e=Object(i["a"])(this.members);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.select=!1}}catch(s){e.e(s)}finally{e.f()}},go:function(){this.hide(),this.$emit("change",this.selectedMembers)},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(r["j"])({searchKeyWords:e}).then((function(e){t.members=e.data.employee,a&&a()}))},show:function(){this.getData(),this.reset(),this.selectedMembers=[],this.modalShow=!0},hide:function(){this.modalShow=!1}}},o=c,l=(a("2263"),a("2877")),d=Object(l["a"])(o,s,n,!1,null,"24741dee",null);e["a"]=d.exports},"68ce":function(t,e,a){"use strict";a("7d52")},"6a20":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"work-index"},[a("a-card",{staticClass:"mb16"},[a("div",{staticClass:"filter-form"},[a("div",{staticClass:"item"},[a("label",[t._v("客户昵称：")]),a("div",{staticClass:"input"},[a("a-input-search",{attrs:{placeholder:"请输入要搜索的客户",allowClear:!0},on:{search:t.retrievalTable,change:t.emptyNickIpt},model:{value:t.searchData.contactName,callback:function(e){t.$set(t.searchData,"contactName",e)},expression:"searchData.contactName"}})],1)]),a("div",{staticClass:"item"},[a("label",[t._v("所属客服：")]),a("div",{staticClass:"input belongTo",on:{click:function(e){return t.$refs.selectMember.show()}}},[0==t.showEmployee.length?a("span",{staticClass:"tips"},[t._v("请选择客服")]):t._e(),t._l(t.showEmployee,(function(e,s){return a("a-tag",{key:s},[t._v(t._s(e.name))])}))],2)]),a("selectMember",{ref:"selectMember",on:{change:t.effectStaff}}),a("div",{staticClass:"item"},[a("label",[t._v("添加时间：")]),a("div",{staticClass:"input"},[a("a-range-picker",{on:{change:t.retrievalDate},model:{value:t.showTimeSearch,callback:function(e){t.showTimeSearch=e},expression:"showTimeSearch"}})],1)]),a("div",{staticClass:"item"},[a("a-button",{on:{click:t.resetBtn}},[t._v("重置")])],1)],1)]),a("a-card",[a("div",{staticClass:"flex mb20"},[a("div",{staticClass:"info-box"},[a("span",{staticClass:"f-blod"},[t._v("共"+t._s(t.table.data.length)+"个待分配客户")])]),a("div",{staticClass:"btn-box"},[a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.allocation}},[t._v("分配客户")]),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(e){return t.$router.push("/contactTransfer/workAllotRecord")}}},[t._v("分配记录")])],1),a("selectStaff",{ref:"choiceStaff",on:{change:t.acceptData}})],1),a("div",{staticClass:"table"},[a("a-table",{attrs:{columns:t.table.col,"data-source":t.table.data,"row-selection":{selectedRowKeys:t.table.rowSelection,onChange:t.onSelectChange},pagination:!0},scopedSlots:t._u([{key:"employeeName",fn:function(e){return a("div",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(t._s(e))],1)],1)}},{key:"tags",fn:function(e){return a("div",{},t._l(e,(function(e,s){return a("a-tag",{key:s},[t._v(t._s(e))])})),1)}},{key:"operating",fn:function(e,s){return a("div",{},[a("a",{on:{click:function(e){return t.$router.push({path:"/workContact/contactFieldPivot?contactId="+s.contactId+"&employeeId="+s.employeeId+"&isContact=2"})}}},[t._v("客户详情")])])}}])})],1)])],1)},n=[],i=(a("d3b7"),a("159b"),a("ccbc")),r=a("4a04"),c=a("4721"),o={components:{selectMember:r["a"],selectStaff:c["a"]},data:function(){return{showEmployee:[],showTimeSearch:[],searchData:{contactName:"",addTimeStart:"",addTimeEnd:"",employeeId:""},tableSelectClient:[],table:{col:[{key:"nickName",dataIndex:"nickName",title:"客户昵称",width:200},{key:"employeeName",dataIndex:"employeeName",title:"所属客服",scopedSlots:{customRender:"employeeName"}},{key:"tags",dataIndex:"tags",title:"客户标签",scopedSlots:{customRender:"tags"}},{key:"transferState",dataIndex:"transferState",title:"转接状态"},{key:"addTime",dataIndex:"addTime",title:"添加时间"},{key:"lastMsgTime",dataIndex:"lastMsgTime",title:"上次对话时间"},{key:"addWay",dataIndex:"addWay",title:"添加渠道"},{key:"operating",dataIndex:"operating",title:"操作",scopedSlots:{customRender:"operating"}}],data:[],rowSelection:[]}}},created:function(){this.getTableData()},methods:{allocation:function(){if(""==this.table.rowSelection)return this.$message.warning("请选择客户"),!1;this.$refs.choiceStaff.show(0)},acceptData:function(t){var e=this,a={type:2,list:JSON.stringify(this.tableSelectClient),takeoverUserId:t.wxUserId};Object(i["b"])(a).then((function(t){var a=0,s=0;t.data.forEach((function(t,e){0==t.errcode?a++:s++})),e.$message.info("已成功分配"+a+"位客户，分配失败"+s+"位客户"),e.table.rowSelection=[]}))},onSelectChange:function(t){var e=this;this.tableSelectClient=[],this.table.rowSelection=t,t.forEach((function(t){var a={employeeWxId:"",contactWxId:""};a.employeeWxId=e.table.data[t].employeeWxId,a.contactWxId=e.table.data[t].contactWxId,e.tableSelectClient.push(a)}))},resetBtn:function(){this.searchData={},this.showEmployee=[],this.showTimeSearch=[],this.getTableData(this.searchData)},effectStaff:function(t){this.showEmployee=t;var e=[];t.forEach((function(t,a){e[a]=t.id})),this.searchData.employeeId=JSON.stringify(e),this.getTableData(this.searchData)},retrievalDate:function(t,e){this.searchData.addTimeStart=e[0],this.searchData.addTimeEnd=e[1],this.getTableData(this.searchData)},retrievalTable:function(){this.getTableData(this.searchData)},emptyNickIpt:function(){""==this.searchData.contactName&&this.getTableData(this.searchData)},getTableData:function(t){var e=this;Object(i["c"])(t).then((function(t){e.table.data=t.data}))}}},l=o,d=(a("11d1"),a("2877")),u=Object(d["a"])(l,s,n,!1,null,null,null);e["default"]=u.exports},"6b75":function(t,e,a){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}a.d(e,"a",(function(){return s}))},7015:function(t,e,a){},7696:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"resign-allot-record"},[a("a-card",{staticClass:"mb16"},[a("a-tabs",{attrs:{type:"card","default-active-key":"0"},on:{change:t.tabSwitch}},[a("a-tab-pane",{key:"0",attrs:{tab:"已分配客户"}}),a("a-tab-pane",{key:"1",attrs:{tab:"已分配群聊"}})],1),a("div",{staticClass:"filter-form"},[a("div",{staticClass:"item"},[0==t.currentTab?a("label",[t._v("客户昵称：")]):a("label",[t._v("群名称：")]),a("div",{staticClass:"input"},[a("a-input-search",{attrs:{placeholder:"请输入要搜索的客户",allowClear:!0},on:{search:t.retrievalTable,change:t.emptyNickIpt},model:{value:t.paramsAskData.name,callback:function(e){t.$set(t.paramsAskData,"name",e)},expression:"paramsAskData.name"}})],1)]),a("div",{staticClass:"item"},[a("label",[t._v("接替员工：")]),a("div",{staticClass:"input"},[a("a-select",{attrs:{placeholder:"请选择企业员工",showSearch:!0},on:{change:t.selectStaff},model:{value:t.paramsAskData.staffName,callback:function(e){t.$set(t.paramsAskData,"staffName",e)},expression:"paramsAskData.staffName"}},t._l(t.staffArray,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.name}},[t._v(t._s(e.name)+" ")])})),1)],1)]),a("div",{staticClass:"item"},[a("label",[t._v("分配时间：")]),a("div",{staticClass:"input"},[a("a-range-picker",{on:{change:t.retrievalDate},model:{value:t.showTimeSearch,callback:function(e){t.showTimeSearch=e},expression:"showTimeSearch"}})],1)]),a("div",{staticClass:"item"},[a("a-button",{on:{click:t.resetBtn}},[t._v("重置")])],1)])],1),a("a-card",[a("div",{staticClass:"flex"},[a("div",{staticClass:"info-box"},[a("span",{staticClass:"f-blod"},[t._v("共"+t._s(t.table.data.length)+"个待分配客户")])])]),a("div",{staticClass:"table mt20"},[a("a-table",{attrs:{columns:0==t.currentTab?t.table.clientCol:t.table.groupCol,"data-source":t.table.data},scopedSlots:t._u([{key:"employee",fn:function(e){return a("div",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(t._s(e))],1)],1)}}])},[a("div",{attrs:{slot:"operation"},slot:"operation"},[a("a",[t._v("客户详情")])]),a("div",{attrs:{slot:"handGroup"},slot:"handGroup"},[a("a",[t._v("客户详情1")])])])],1)])],1)},n=[],i=(a("d3b7"),a("159b"),a("b0c0"),a("ccbc")),r={data:function(){return{currentTab:0,showTimeSearch:[],staffArray:[],paramsAskData:{mode:1,name:"",employeeId:"",createTimeStart:"",createTimeEnd:""},table:{clientCol:[{key:"name",dataIndex:"name",title:"客户名称"},{key:"employee",dataIndex:"employee",title:"接替员工",scopedSlots:{customRender:"employee"}},{key:"state",dataIndex:"state",title:"转接状态"},{key:"createTime",dataIndex:"createTime",title:"分配时间"},{key:"operation",dataIndex:"operation",title:"操作",scopedSlots:{customRender:"operation"}}],groupCol:[{key:"name",dataIndex:"name",title:"群聊名称"},{key:"employee",dataIndex:"employee",title:"接替员工",scopedSlots:{customRender:"employee"}},{key:"roomNum",dataIndex:"roomNum",title:"群人数"},{key:"createTime",dataIndex:"createTime",title:"分配时间"},{key:"handGroup",dataIndex:"handGroup",title:"操作",scopedSlots:{customRender:"handGroup"}}],data:[]}}},created:function(){this.getClientData(this.paramsAskData),this.getNumberData()},methods:{resetBtn:function(){this.paramsAskData={},this.showTimeSearch=[],0==this.currentTab?(this.paramsAskData.mode=1,this.getClientData(this.paramsAskData)):1==this.currentTab&&(this.paramsAskData.mode=2,this.getGroupData(this.paramsAskData))},getNumberData:function(){var t=this;Object(i["a"])().then((function(e){t.staffArray=e.data.employee}))},selectStaff:function(t){var e=this;this.staffArray.forEach((function(a){t==a.name&&(e.paramsAskData.employeeId=a.wxUserId)})),0==this.currentTab?this.getClientData(this.paramsAskData):this.getGroupData(this.paramsAskData)},retrievalTable:function(){0==this.currentTab?this.getClientData(this.paramsAskData):this.getGroupData(this.paramsAskData)},emptyNickIpt:function(){""==this.paramsAskData.name&&(0==this.currentTab?this.getClientData(this.paramsAskData):this.getGroupData(this.paramsAskData))},retrievalDate:function(t,e){this.paramsAskData.createTimeStart=e[0],this.paramsAskData.createTimeEnd=e[1],0==this.currentTab?this.getClientData(this.paramsAskData):this.getGroupData(this.paramsAskData)},getClientData:function(t){var e=this;Object(i["d"])(t).then((function(t){e.table.data=t.data}))},getGroupData:function(t){var e=this;Object(i["d"])(t).then((function(t){e.table.data=t.data}))},tabSwitch:function(t){this.currentTab=t,this.table.data=[],this.paramsAskData={},this.showTimeSearch=[],0==this.currentTab?(this.paramsAskData.mode=1,this.getClientData(this.paramsAskData)):1==this.currentTab&&(this.paramsAskData.mode=2,this.getGroupData(this.paramsAskData))}}},c=r,o=(a("2611"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,"5a2bf888",null);e["default"]=l.exports},"7d52":function(t,e,a){},"9c58":function(t,e,a){},"9d9f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"work-record"},[a("a-card",{staticClass:"mb16"},[a("div",{staticClass:"filter-form"},[a("div",{staticClass:"item"},[a("label",[t._v("接替员工：")]),a("div",{staticClass:"input"},[a("a-select",{attrs:{placeholder:"请选择企业员工",showSearch:!0},on:{change:t.selectStaff},model:{value:t.aksParams.staffName,callback:function(e){t.$set(t.aksParams,"staffName",e)},expression:"aksParams.staffName"}},t._l(t.staffArray,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.name}},[t._v(t._s(e.name)+" ")])})),1)],1)]),a("div",{staticClass:"item"},[a("label",[t._v("分配时间：")]),a("div",{staticClass:"input"},[a("a-range-picker",{on:{change:t.retrievalDate},model:{value:t.showTimeSearch,callback:function(e){t.showTimeSearch=e},expression:"showTimeSearch"}})],1)]),a("div",{staticClass:"item"},[a("a-button",{on:{click:t.resetBtn}},[t._v("重置")])],1)])]),a("a-card",[a("div",{staticClass:"f-blod ml6 mb16"},[t._v(" 共"+t._s(t.table.data.length)+"个已分配客户 ")]),a("div",{staticClass:"table"},[a("a-table",{attrs:{columns:t.table.columns,"data-source":t.table.data},scopedSlots:t._u([{key:"employee",fn:function(e){return a("div",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(t._s(e))],1)],1)}}])},[a("div",{attrs:{slot:"operation"},slot:"operation"},[a("a",[t._v("客户详情")])])])],1)])],1)},n=[],i=(a("d3b7"),a("159b"),a("b0c0"),a("ccbc")),r={data:function(){return{showTimeSearch:[],staffArray:[],aksParams:{mode:3,employeeId:"",createTimeStart:"",createTimeEnd:""},table:{columns:[{key:"name",dataIndex:"name",title:"客户名称"},{key:"corpName",dataIndex:"corpName",title:"客户企业"},{key:"employee",dataIndex:"employee",title:"接替员工",scopedSlots:{customRender:"employee"}},{key:"state",dataIndex:"state",title:"转接状态"},{key:"createTime",dataIndex:"createTime",title:"分配时间"},{key:"operation",dataIndex:"operation",title:"操作",scopedSlots:{customRender:"operation"}}],data:[]}}},created:function(){this.getTableData(this.aksParams),this.getNumberData()},methods:{resetBtn:function(){this.aksParams={},this.aksParams.mode=3,this.showTimeSearch=[],this.staffName="",this.getTableData(this.aksParams)},selectStaff:function(t){var e=this;this.staffArray.forEach((function(a){t==a.name&&(e.aksParams.employeeId=a.wxUserId)})),this.getTableData(this.aksParams)},getNumberData:function(){var t=this;Object(i["a"])().then((function(e){t.staffArray=e.data.employee}))},retrievalDate:function(t,e){this.aksParams.createTimeStart=e[0],this.aksParams.createTimeEnd=e[1],this.getTableData(this.aksParams)},getTableData:function(t){var e=this;Object(i["d"])(t).then((function(t){e.table.data=t.data}))}}},c=r,o=(a("68ce"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,"6e63bfe6",null);e["default"]=l.exports},ac24:function(t,e,a){},b3fe:function(t,e,a){"use strict";a("ca06")},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var s=a("06c5");function n(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(s["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return c=t.done,t},e:function(t){o=!0,r=t},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(o)throw r}}}}},ca06:function(t,e,a){},ccbc:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"g",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return d}));var s=a("b775");function n(t){return Object(s["b"])({url:"/contactTransfer/info",method:"get",params:t})}function i(t){return Object(s["b"])({url:"/contactTransfer/unassignedList",method:"get",params:t})}function r(t){return Object(s["b"])({url:"/contactTransfer/index",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/contactTransfer/room",method:"get",params:t})}function o(t){return Object(s["b"])({url:"/contactTransfer/room",method:"post",data:t})}function l(t){return Object(s["b"])({url:"/contactTransfer/log",method:"get",params:t})}function d(t){return Object(s["b"])({url:"/workDepartment/index",method:"get",params:t})}},e51d:function(t,e,a){"use strict";a("46d0")}}]);